<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NextDom - Core: BackupManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NextDom - Core
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_next_dom.html">NextDom</a></li><li class="navelem"><a class="el" href="namespace_next_dom_1_1_managers.html">Managers</a></li><li class="navelem"><a class="el" href="class_next_dom_1_1_managers_1_1_backup_manager.html">BackupManager</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">BackupManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a27cd8188d6bf24c6de12f55bb7abe72b"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a27cd8188d6bf24c6de12f55bb7abe72b">backup</a> (bool $background=false)</td></tr>
<tr class="memdesc:a27cd8188d6bf24c6de12f55bb7abe72b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a backup archive.  <a href="class_next_dom_1_1_managers_1_1_backup_manager.html#a27cd8188d6bf24c6de12f55bb7abe72b">More...</a><br /></td></tr>
<tr class="separator:a27cd8188d6bf24c6de12f55bb7abe72b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace782e411a6c4e97ead02884eb54ea20"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_next_dom_1_1_managers_1_1_backup_manager.html#ace782e411a6c4e97ead02884eb54ea20">createBackup</a> ()</td></tr>
<tr class="memdesc:ace782e411a6c4e97ead02884eb54ea20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs the backup procedure.  <a href="class_next_dom_1_1_managers_1_1_backup_manager.html#ace782e411a6c4e97ead02884eb54ea20">More...</a><br /></td></tr>
<tr class="separator:ace782e411a6c4e97ead02884eb54ea20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08d00aa985d7aecd45665c0b183d0486"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a08d00aa985d7aecd45665c0b183d0486">getBackupDirectory</a> ()</td></tr>
<tr class="memdesc:a08d00aa985d7aecd45665c0b183d0486"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns backup directory according to backup::path.  <a href="class_next_dom_1_1_managers_1_1_backup_manager.html#a08d00aa985d7aecd45665c0b183d0486">More...</a><br /></td></tr>
<tr class="separator:a08d00aa985d7aecd45665c0b183d0486"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55c13c988beeb475343d0ca1f36d441a"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a55c13c988beeb475343d0ca1f36d441a">getBackupFilename</a> ($name=null)</td></tr>
<tr class="memdesc:a55c13c988beeb475343d0ca1f36d441a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes backup filename from nextdom's name and current datetime.  <a href="class_next_dom_1_1_managers_1_1_backup_manager.html#a55c13c988beeb475343d0ca1f36d441a">More...</a><br /></td></tr>
<tr class="separator:a55c13c988beeb475343d0ca1f36d441a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10ab3be11f78c639e67193666cb1c0df"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a10ab3be11f78c639e67193666cb1c0df">backupPlugins</a> ()</td></tr>
<tr class="memdesc:a10ab3be11f78c639e67193666cb1c0df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs backup method for each active plugins if available.  <a href="class_next_dom_1_1_managers_1_1_backup_manager.html#a10ab3be11f78c639e67193666cb1c0df">More...</a><br /></td></tr>
<tr class="separator:a10ab3be11f78c639e67193666cb1c0df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace1bacd577bd2254c9a68e501fdd84ca"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_next_dom_1_1_managers_1_1_backup_manager.html#ace1bacd577bd2254c9a68e501fdd84ca">repairDB</a> ()</td></tr>
<tr class="memdesc:ace1bacd577bd2254c9a68e501fdd84ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks and repair database.  <a href="class_next_dom_1_1_managers_1_1_backup_manager.html#ace1bacd577bd2254c9a68e501fdd84ca">More...</a><br /></td></tr>
<tr class="separator:ace1bacd577bd2254c9a68e501fdd84ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa2a620d4390ce5f6f6ec92a2748ff57"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_next_dom_1_1_managers_1_1_backup_manager.html#afa2a620d4390ce5f6f6ec92a2748ff57">createDBBackup</a> ($outputFile)</td></tr>
<tr class="memdesc:afa2a620d4390ce5f6f6ec92a2748ff57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a backup of database to given output file path.  <a href="class_next_dom_1_1_managers_1_1_backup_manager.html#afa2a620d4390ce5f6f6ec92a2748ff57">More...</a><br /></td></tr>
<tr class="separator:afa2a620d4390ce5f6f6ec92a2748ff57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c8a076632ca9e7e37837af66eabacb2"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a9c8a076632ca9e7e37837af66eabacb2">createBackupArchive</a> (string $outputPath, $sqlPath, $cachePath, $logFile)</td></tr>
<tr class="memdesc:a9c8a076632ca9e7e37837af66eabacb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an archive with all files that should be included in backup.  <a href="class_next_dom_1_1_managers_1_1_backup_manager.html#a9c8a076632ca9e7e37837af66eabacb2">More...</a><br /></td></tr>
<tr class="separator:a9c8a076632ca9e7e37837af66eabacb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b5b2e6ecb7f01476001d6db4dd691b3"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a2b5b2e6ecb7f01476001d6db4dd691b3">rotateBackups</a> (string $backupDir)</td></tr>
<tr class="memdesc:a2b5b2e6ecb7f01476001d6db4dd691b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes backup archives according to backup::keepDays and backup::maxSize.  <a href="class_next_dom_1_1_managers_1_1_backup_manager.html#a2b5b2e6ecb7f01476001d6db4dd691b3">More...</a><br /></td></tr>
<tr class="separator:a2b5b2e6ecb7f01476001d6db4dd691b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af43fb8a4372343001b0ba4f43ff770ab"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_next_dom_1_1_managers_1_1_backup_manager.html#af43fb8a4372343001b0ba4f43ff770ab">getBackupFileInfo</a> ($backupDir, $order=&quot;newest&quot;)</td></tr>
<tr class="memdesc:af43fb8a4372343001b0ba4f43ff770ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an array with information about existing backup files.  <a href="class_next_dom_1_1_managers_1_1_backup_manager.html#af43fb8a4372343001b0ba4f43ff770ab">More...</a><br /></td></tr>
<tr class="separator:af43fb8a4372343001b0ba4f43ff770ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5948510b747494dbfbf23bc77a7347c"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_next_dom_1_1_managers_1_1_backup_manager.html#ab5948510b747494dbfbf23bc77a7347c">sendRemoteBackup</a> (string $path)</td></tr>
<tr class="memdesc:ab5948510b747494dbfbf23bc77a7347c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trigger remote upload for all available repos.  <a href="class_next_dom_1_1_managers_1_1_backup_manager.html#ab5948510b747494dbfbf23bc77a7347c">More...</a><br /></td></tr>
<tr class="separator:ab5948510b747494dbfbf23bc77a7347c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe628a96cf68ea284aaa6d5ad51b6e91"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_next_dom_1_1_managers_1_1_backup_manager.html#afe628a96cf68ea284aaa6d5ad51b6e91">restore</a> (string $file='', bool $background=false)</td></tr>
<tr class="memdesc:afe628a96cf68ea284aaa6d5ad51b6e91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restore a backup from file.  <a href="class_next_dom_1_1_managers_1_1_backup_manager.html#afe628a96cf68ea284aaa6d5ad51b6e91">More...</a><br /></td></tr>
<tr class="separator:afe628a96cf68ea284aaa6d5ad51b6e91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d97af581072e4d4d86facc560b83827"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a1d97af581072e4d4d86facc560b83827">restoreBackup</a> ($file='')</td></tr>
<tr class="memdesc:a1d97af581072e4d4d86facc560b83827"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs the restore procedure.  <a href="class_next_dom_1_1_managers_1_1_backup_manager.html#a1d97af581072e4d4d86facc560b83827">More...</a><br /></td></tr>
<tr class="separator:a1d97af581072e4d4d86facc560b83827"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a507bc91be11e067744d8d91c21c14f44"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a507bc91be11e067744d8d91c21c14f44">getLastBackupFilePath</a> ($backupDir, $order=&quot;newest&quot;)</td></tr>
<tr class="memdesc:a507bc91be11e067744d8d91c21c14f44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns path to last available backup archive.  <a href="class_next_dom_1_1_managers_1_1_backup_manager.html#a507bc91be11e067744d8d91c21c14f44">More...</a><br /></td></tr>
<tr class="separator:a507bc91be11e067744d8d91c21c14f44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5999d4424be1a18ba91f9d1450380377"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a5999d4424be1a18ba91f9d1450380377">loadSQLFromFile</a> ($file)</td></tr>
<tr class="memdesc:a5999d4424be1a18ba91f9d1450380377"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load given file in mysql database.  <a href="class_next_dom_1_1_managers_1_1_backup_manager.html#a5999d4424be1a18ba91f9d1450380377">More...</a><br /></td></tr>
<tr class="separator:a5999d4424be1a18ba91f9d1450380377"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec53bc1b6d657ca0a59f37c3f591f6ee"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_next_dom_1_1_managers_1_1_backup_manager.html#aec53bc1b6d657ca0a59f37c3f591f6ee">listBackup</a> ()</td></tr>
<tr class="memdesc:aec53bc1b6d657ca0a59f37c3f591f6ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtenir la liste des sauvegardes.  <a href="class_next_dom_1_1_managers_1_1_backup_manager.html#aec53bc1b6d657ca0a59f37c3f591f6ee">More...</a><br /></td></tr>
<tr class="separator:aec53bc1b6d657ca0a59f37c3f591f6ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a863a14b04bb8a066483c36d7c5c3fdfb"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a863a14b04bb8a066483c36d7c5c3fdfb">removeBackup</a> (string $backupFilePath)</td></tr>
<tr class="memdesc:a863a14b04bb8a066483c36d7c5c3fdfb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a backup file.  <a href="class_next_dom_1_1_managers_1_1_backup_manager.html#a863a14b04bb8a066483c36d7c5c3fdfb">More...</a><br /></td></tr>
<tr class="separator:a863a14b04bb8a066483c36d7c5c3fdfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a27cd8188d6bf24c6de12f55bb7abe72b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27cd8188d6bf24c6de12f55bb7abe72b">&#9670;&nbsp;</a></span>backup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static backup </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>$background</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a backup archive. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$background</td><td>Lancer la sauvegarde en tâche de fond. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"></td><td></td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_next_dom_1_1_managers_1_1_backup_manager_a27cd8188d6bf24c6de12f55bb7abe72b_cgraph.png" border="0" usemap="#class_next_dom_1_1_managers_1_1_backup_manager_a27cd8188d6bf24c6de12f55bb7abe72b_cgraph" alt=""/></div>
<map name="class_next_dom_1_1_managers_1_1_backup_manager_a27cd8188d6bf24c6de12f55bb7abe72b_cgraph" id="class_next_dom_1_1_managers_1_1_backup_manager_a27cd8188d6bf24c6de12f55bb7abe72b_cgraph">
<area shape="rect" title="Creates a backup archive." alt="" coords="5,451,70,476"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_log_helper.html#af64c83a3bb07eeef70cb65ec9cbf84fc" title="Clear log file." alt="" coords="142,100,334,139"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_log_helper.html#a7e0e52bdf0635af0118ce4c49c138616" title="Get target path log (usually /var/log/nextdom)" alt="" coords="433,131,625,169"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#ace782e411a6c4e97ead02884eb54ea20" title="Runs the backup procedure." alt="" coords="186,731,289,756"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_system_helper.html#a03248ba1274669947482d53b18506308" title="Execute PHP command." alt="" coords="118,780,358,805"/>
<area shape="rect" href="class_next_dom_1_1_com_1_1_com_shell.html#a2444160cf715a3b170c54bf076b25801" title="Execute a command." alt="" coords="444,68,614,107"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_system_helper.html#adfa1119c93aed305edf0a34f9d574c04" title="Get sudo command." alt="" coords="422,5,636,44"/>
<area shape="rect" href="class_next_dom_1_1_com_1_1_com_shell.html#ac93fbec81f07e5d15f80db907e63dc10" title="Get the instance of com_shell." alt="" coords="737,68,907,107"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_next_dom_helper.html#a7a3429f446f9db275f118bf41bbb7942" title="Test if NextDom can call system function." alt="" coords="709,5,935,44"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_log_helper.html#ada013231ed32c57edca6885116d176c3" title="Log an error." alt="" coords="1013,807,1204,845"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a10ab3be11f78c639e67193666cb1c0df" title="Runs backup method for each active plugins if available." alt="" coords="475,860,583,885"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_config_manager.html#ae4695808d86fd397cfab76bf97db5ee0" title="Get configuration by key." alt="" coords="1589,1133,1823,1172"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a9c8a076632ca9e7e37837af66eabacb2" title="Creates an archive with all files that should be included in backup." alt="" coords="456,1564,603,1589"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#afa2a620d4390ce5f6f6ec92a2748ff57" title="Creates a backup of database to given output file path." alt="" coords="469,1613,590,1639"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_console_helper.html#a4151611be30228b4d9a4b24eca0995c3" title="Show ok message." alt="" coords="420,193,638,232"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_console_helper.html#a1d78d52cbcb03cbbbfe514773f54cf06" title="Show error message." alt="" coords="420,256,638,295"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_next_dom_helper.html#a2ac9f06d44b956a01745521940b04c5a" title="Check an event." alt="" coords="417,319,642,357"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_cache_manager.html#af5a073725c5c084616eb64ca8b8b82d5" title=" " alt="" coords="705,969,939,1008"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a08d00aa985d7aecd45665c0b183d0486" title="Returns backup directory according to backup::path." alt="" coords="1338,791,1476,816"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a55c13c988beeb475343d0ca1f36d441a" title="Computes backup filename from nextdom&#39;s name and current datetime." alt="" coords="460,1515,599,1540"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_console_helper.html#a8219703c5acfa6db575b0464e9acd9b8" title="Show not ok message." alt="" coords="407,381,651,407"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_console_helper.html#a2cdf4a5b1248db93096edb610c7c97dd" title="Show ok message." alt="" coords="411,431,647,456"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_cache_manager.html#a10b59043fc22b1dd0369492835e5734a" title="Persist cache system." alt="" coords="412,1052,647,1091"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#ace1bacd577bd2254c9a68e501fdd84ca" title="Checks and repair database." alt="" coords="492,480,566,505"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a2b5b2e6ecb7f01476001d6db4dd691b3" title="Removes backup archives according to backup::keepDays and backup::maxSize." alt="" coords="476,1249,583,1275"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#ab5948510b747494dbfbf23bc77a7347c" title="Trigger remote upload for all available repos." alt="" coords="751,920,893,945"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_next_dom_helper.html#ab592353eefc343cf696f184d79fbb9f9" title="Start all cron tasks and scenarios." alt="" coords="996,1407,1221,1445"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_console_helper.html#a17ff46b018e62e3e3b611a1609a39260" title="Show step information." alt="" coords="406,529,653,555"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_next_dom_helper.html#ad686923149ee99c13b8895133dcc0d69" title="Stop all cron tasks and scenarios." alt="" coords="417,1452,642,1491"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_console_helper.html#a3d6e756b99c1f847d7937c62c007ef3f" title="Show subtitle." alt="" coords="420,579,638,617"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_console_helper.html#a30efebe4e50a775ea505a60e8dde3ef3" title="Show title." alt="" coords="420,641,638,680"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_log_helper.html#a4d086122826f89ccd612789af05ff0ba" title="Add a message to the log and ensure that there are never more than 1000 lines." alt="" coords="1298,859,1516,884"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_plugin_manager.html#af7965a4a188caffa392780b011c824f3" title="Get the list of plugins." alt="" coords="705,857,939,896"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_config_manager.html#a0c9551afe14fb1b4df707764ea46207d" title="Get default configuration from default.config.ini." alt="" coords="1871,1240,2106,1279"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_d_b_helper.html#a4fd597219b185fced898ef86a54bf99c" title="Get one row data from database." alt="" coords="1895,1133,2083,1172"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_scenario_manager.html#a1ef3d1d6487e953bd1ed01055f680b82" title="Vérifier un scénario TODO: Virer les strings." alt="" coords="724,319,920,357"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_next_dom_helper.html#a6cf68c49b664014c65f64cf7ac03623e" title="Get Nextdom version." alt="" coords="709,1729,935,1768"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_cache_manager.html#ad62e7ab677383b9e591ea7be6e1357af" title="Get the folder where the cache is stored." alt="" coords="991,1281,1226,1320"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_system_helper.html#ab6c43fe722c0b17bcad97b64dddc75c0" title="Get apache group id." alt="" coords="715,1135,929,1173"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_system_helper.html#af8edbc1b2262a37d02b96082d58817ff" title="Get apache user id name." alt="" coords="1002,1119,1215,1157"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_next_dom_helper.html#a2eb7fdd340eb5ab95e82b4500a9abbbf" title="Get temporary folder and creates it if not exists." alt="" coords="1295,1283,1520,1321"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#af43fb8a4372343001b0ba4f43ff770ab" title="Creates an array with information about existing backup files." alt="" coords="758,1300,886,1325"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_log_helper.html#aef6866d7f01a167db0f9a5b61ccb695d" title="Log an information." alt="" coords="1013,869,1204,908"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_update_manager.html#a374d97919101d5265deae63f1c60ae2b" title="List of repositories." alt="" coords="1288,984,1527,1023"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_config_manager.html#a28bc8c5f706be1ed57bd99742193f44d" title="Save new configuration value in the database." alt="" coords="1274,1468,1541,1493"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_system_helper.html#a116d3599268b4fb3d556a8851654235c" title="Start a service." alt="" coords="1300,1405,1514,1444"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_cron_manager.html#aba926d474bbc73c577a2662f1b4c2939" title="Return an array of all cron objects." alt="" coords="701,1577,943,1603"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_scenario_manager.html#a96670667bc7cee8977d4a91b2910318b" title="Obtenir tous les objets scenario." alt="" coords="724,1515,920,1553"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_cron_manager.html#a08b132381e2f91cfb8b88943eb2c8a5e" title="Return the current pid of jeecron or empty if not running." alt="" coords="996,1344,1221,1383"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_cron_manager.html#a71b18914adce5955013dbd25971dfefb" title="Get status of jeeCron." alt="" coords="709,1452,935,1491"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_next_dom_1_1_managers_1_1_backup_manager_a27cd8188d6bf24c6de12f55bb7abe72b_icgraph.png" border="0" usemap="#class_next_dom_1_1_managers_1_1_backup_manager_a27cd8188d6bf24c6de12f55bb7abe72b_icgraph" alt=""/></div>
<map name="class_next_dom_1_1_managers_1_1_backup_manager_a27cd8188d6bf24c6de12f55bb7abe72b_icgraph" id="class_next_dom_1_1_managers_1_1_backup_manager_a27cd8188d6bf24c6de12f55bb7abe72b_icgraph">
<area shape="rect" title="Creates a backup archive." alt="" coords="245,12,309,37"/>
<area shape="rect" href="class_next_dom_1_1_ajax_1_1_next_dom_ajax.html#ada953121a7d721565b055fef7407296e" title=" " alt="" coords="5,5,197,44"/>
</map>
</div>

</div>
</div>
<a id="a10ab3be11f78c639e67193666cb1c0df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10ab3be11f78c639e67193666cb1c0df">&#9670;&nbsp;</a></span>backupPlugins()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static backupPlugins </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Runs backup method for each active plugins if available. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"></td><td></td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_next_dom_1_1_managers_1_1_backup_manager_a10ab3be11f78c639e67193666cb1c0df_cgraph.png" border="0" usemap="#class_next_dom_1_1_managers_1_1_backup_manager_a10ab3be11f78c639e67193666cb1c0df_cgraph" alt=""/></div>
<map name="class_next_dom_1_1_managers_1_1_backup_manager_a10ab3be11f78c639e67193666cb1c0df_cgraph" id="class_next_dom_1_1_managers_1_1_backup_manager_a10ab3be11f78c639e67193666cb1c0df_cgraph">
<area shape="rect" title="Runs backup method for each active plugins if available." alt="" coords="5,213,113,239"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_plugin_manager.html#af7965a4a188caffa392780b011c824f3" title="Get the list of plugins." alt="" coords="161,207,395,245"/>
<area shape="rect" href="namespace_next_dom.html#a9610e1f499e0995e17fa108053065d08" title="Translate a string." alt="" coords="822,128,917,153"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_log_helper.html#ada013231ed32c57edca6885116d176c3" title="Log an error." alt="" coords="478,179,670,217"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_plugin_manager.html#ac088d49ec4671e62734f5ca4303ebe37" title="Get a plugin from his username." alt="" coords="443,241,705,267"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_d_b_helper.html#abf4092a262c5b6b639d7c501c1b79120" title="Get data from database." alt="" coords="1928,421,2116,460"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_translate_helper.html#a756453f5746332d01aae5d7f0a583df7" title="Traduction direct d&#39;une phrase." alt="" coords="1075,24,1260,63"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_translate_helper.html#a4ac118d290a9e8bdce621a813fa058ad" title="Lance la traduction d&#39;un texte." alt="" coords="1374,24,1559,63"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_translate_helper.html#ae34010c132ac0dc3b0ab65beb42d4f7c" title="Obtenir les traductions pour la langue courante." alt="" coords="1651,12,1837,51"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_translate_helper.html#af66c7c22aba46f400b2e392f09fd48fb" title="Obtenir la langue configurée." alt="" coords="2212,9,2397,48"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_translate_helper.html#a9f3573951dbcc095bcc364eed754da14" title="Charge les informations de traduction TODO: Même celles de tous les plugins." alt="" coords="1929,67,2115,105"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_translate_helper.html#a0fd2914593a531e82e827b2c879da15c" title="Obtenir une des informations de la configuration liée à la traduction." alt="" coords="2472,9,2657,48"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_config_manager.html#a824e9e4c9274cab6f7acab17c8b945df" title="Get configuration by multiple keys." alt="" coords="2706,9,2941,48"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_translate_helper.html#afa4ed863a3f92d0912e6aeea99dc2d0e" title="Obtenir le chemin du fichier de traduction d&#39;une langue." alt="" coords="2206,72,2403,111"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_log_helper.html#a4d086122826f89ccd612789af05ff0ba" title="Add a message to the log and ensure that there are never more than 1000 lines." alt="" coords="761,181,978,207"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_message_manager.html#a3fb2dbd02fd3e3b3e6c49e9420fda03e" title=" " alt="" coords="1069,117,1266,156"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_log_helper.html#a59bc2904869e417bffca60916a5cde96" title="Get logger depends of target." alt="" coords="1370,87,1562,125"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_config_manager.html#ae4695808d86fd397cfab76bf97db5ee0" title="Get configuration by key." alt="" coords="1905,227,2139,265"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_config_manager.html#a0c9551afe14fb1b4df707764ea46207d" title="Get default configuration from default.config.ini." alt="" coords="2187,157,2422,196"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_d_b_helper.html#a4fd597219b185fced898ef86a54bf99c" title="Get one row data from database." alt="" coords="2211,255,2399,293"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_d_b_helper.html#ab797da453b67184f536a64010d8ea18e" title="Prepare a query and execute." alt="" coords="2470,305,2658,344"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_d_b_helper.html#a6b25efc0b7bf136a727f36f22577b06c" title="Get the connection." alt="" coords="2730,333,2918,372"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_plugin_manager.html#adaeb1b5f42e059519a1f6e3bc66898a7" title=" " alt="" coords="753,235,986,273"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_plugin_manager.html#a0a6a5d269f82b5904cc600fa67c2df7a" title="Get the path of the info.json file from the plugin ID." alt="" coords="753,297,986,336"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_d_b_helper.html#a01c203ce9e139c8217a39d446eca7ea3" title="Execute a query without result (DELETE, UPDATE, INSERT, etc.)" alt="" coords="1634,368,1854,393"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_config_manager.html#a28bc8c5f706be1ed57bd99742193f44d" title="Save new configuration value in the database." alt="" coords="1034,241,1301,267"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_next_dom_helper.html#aaa69e3f215a5e653f61ec2bb0d57d44e" title="Get configuration informations or global configuration." alt="" coords="1354,201,1579,240"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_config_manager.html#ac91a39d2fc0ff49855ad66b906d00bf0" title="Remove key from the database." alt="" coords="1349,264,1584,303"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_next_dom_helper.html#acda790553577ca5cef6f61bd79cc3f45" title="TODO: ???" alt="" coords="1632,252,1857,291"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_next_dom_1_1_managers_1_1_backup_manager_a10ab3be11f78c639e67193666cb1c0df_icgraph.png" border="0" usemap="#class_next_dom_1_1_managers_1_1_backup_manager_a10ab3be11f78c639e67193666cb1c0df_icgraph" alt=""/></div>
<map name="class_next_dom_1_1_managers_1_1_backup_manager_a10ab3be11f78c639e67193666cb1c0df_icgraph" id="class_next_dom_1_1_managers_1_1_backup_manager_a10ab3be11f78c639e67193666cb1c0df_icgraph">
<area shape="rect" title="Runs backup method for each active plugins if available." alt="" coords="508,12,616,37"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#ace782e411a6c4e97ead02884eb54ea20" title="Runs the backup procedure." alt="" coords="357,12,460,37"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a27cd8188d6bf24c6de12f55bb7abe72b" title="Creates a backup archive." alt="" coords="245,12,309,37"/>
<area shape="rect" href="class_next_dom_1_1_ajax_1_1_next_dom_ajax.html#ada953121a7d721565b055fef7407296e" title=" " alt="" coords="5,5,197,44"/>
</map>
</div>

</div>
</div>
<a id="ace782e411a6c4e97ead02884eb54ea20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace782e411a6c4e97ead02884eb54ea20">&#9670;&nbsp;</a></span>createBackup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static createBackup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Runs the backup procedure. </p>
<p>Last output should not be removed since it act as a marker in ajax calls</p>
<dl class="section return"><dt>Returns</dt><dd>bool true if no error </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">CoreException</td><td></td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_next_dom_1_1_managers_1_1_backup_manager_ace782e411a6c4e97ead02884eb54ea20_cgraph.png" border="0" usemap="#class_next_dom_1_1_managers_1_1_backup_manager_ace782e411a6c4e97ead02884eb54ea20_cgraph" alt=""/></div>
<map name="class_next_dom_1_1_managers_1_1_backup_manager_ace782e411a6c4e97ead02884eb54ea20_cgraph" id="class_next_dom_1_1_managers_1_1_backup_manager_ace782e411a6c4e97ead02884eb54ea20_cgraph">
<area shape="rect" title="Runs the backup procedure." alt="" coords="5,917,108,943"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_log_helper.html#ada013231ed32c57edca6885116d176c3" title="Log an error." alt="" coords="777,271,969,309"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_config_manager.html#ae4695808d86fd397cfab76bf97db5ee0" title="Get configuration by key." alt="" coords="1654,624,1889,663"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a10ab3be11f78c639e67193666cb1c0df" title="Runs backup method for each active plugins if available." alt="" coords="226,167,334,192"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a9c8a076632ca9e7e37837af66eabacb2" title="Creates an archive with all files that should be included in backup." alt="" coords="206,1001,354,1027"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#afa2a620d4390ce5f6f6ec92a2748ff57" title="Creates a backup of database to given output file path." alt="" coords="219,1051,341,1076"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_console_helper.html#a4151611be30228b4d9a4b24eca0995c3" title="Show ok message." alt="" coords="171,1100,389,1139"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_console_helper.html#a1d78d52cbcb03cbbbfe514773f54cf06" title="Show error message." alt="" coords="171,1163,389,1201"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_next_dom_helper.html#a2ac9f06d44b956a01745521940b04c5a" title="Check an event." alt="" coords="460,31,685,69"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_cache_manager.html#af5a073725c5c084616eb64ca8b8b82d5" title=" " alt="" coords="455,321,690,360"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a08d00aa985d7aecd45665c0b183d0486" title="Returns backup directory according to backup::path." alt="" coords="1417,555,1555,580"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a55c13c988beeb475343d0ca1f36d441a" title="Computes backup filename from nextdom&#39;s name and current datetime." alt="" coords="210,837,349,863"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_console_helper.html#a8219703c5acfa6db575b0464e9acd9b8" title="Show not ok message." alt="" coords="158,1225,402,1251"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_console_helper.html#a2cdf4a5b1248db93096edb610c7c97dd" title="Show ok message." alt="" coords="162,1275,398,1300"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_cache_manager.html#a10b59043fc22b1dd0369492835e5734a" title="Persist cache system." alt="" coords="162,461,397,500"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#ace1bacd577bd2254c9a68e501fdd84ca" title="Checks and repair database." alt="" coords="243,1324,317,1349"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a2b5b2e6ecb7f01476001d6db4dd691b3" title="Removes backup archives according to backup::keepDays and backup::maxSize." alt="" coords="227,652,333,677"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#ab5948510b747494dbfbf23bc77a7347c" title="Trigger remote upload for all available repos." alt="" coords="502,701,643,727"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_next_dom_helper.html#ab592353eefc343cf696f184d79fbb9f9" title="Start all cron tasks and scenarios." alt="" coords="760,979,985,1017"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_console_helper.html#a17ff46b018e62e3e3b611a1609a39260" title="Show step information." alt="" coords="156,1373,404,1399"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_next_dom_helper.html#ad686923149ee99c13b8895133dcc0d69" title="Stop all cron tasks and scenarios." alt="" coords="167,939,392,977"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_console_helper.html#a3d6e756b99c1f847d7937c62c007ef3f" title="Show subtitle." alt="" coords="171,1423,389,1461"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_console_helper.html#a30efebe4e50a775ea505a60e8dde3ef3" title="Show title." alt="" coords="171,1485,389,1524"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_log_helper.html#a4d086122826f89ccd612789af05ff0ba" title="Add a message to the log and ensure that there are never more than 1000 lines." alt="" coords="1076,351,1294,376"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_message_manager.html#a3fb2dbd02fd3e3b3e6c49e9420fda03e" title=" " alt="" coords="1387,313,1585,352"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_log_helper.html#a59bc2904869e417bffca60916a5cde96" title="Get logger depends of target." alt="" coords="1390,376,1582,415"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_config_manager.html#a0c9551afe14fb1b4df707764ea46207d" title="Get default configuration from default.config.ini." alt="" coords="1937,789,2171,828"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_d_b_helper.html#a4fd597219b185fced898ef86a54bf99c" title="Get one row data from database." alt="" coords="1960,568,2148,607"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_d_b_helper.html#ab797da453b67184f536a64010d8ea18e" title="Prepare a query and execute." alt="" coords="2219,540,2407,579"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_plugin_manager.html#af7965a4a188caffa392780b011c824f3" title="Get the list of plugins." alt="" coords="456,156,689,195"/>
<area shape="rect" href="namespace_next_dom.html#a9610e1f499e0995e17fa108053065d08" title="Translate a string." alt="" coords="1138,68,1233,93"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_plugin_manager.html#ac088d49ec4671e62734f5ca4303ebe37" title="Get a plugin from his username." alt="" coords="742,68,1004,93"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_d_b_helper.html#abf4092a262c5b6b639d7c501c1b79120" title="Get data from database." alt="" coords="1677,452,1865,491"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_scenario_manager.html#a1ef3d1d6487e953bd1ed01055f680b82" title="Vérifier un scénario TODO: Virer les strings." alt="" coords="775,5,971,44"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_next_dom_helper.html#a6cf68c49b664014c65f64cf7ac03623e" title="Get Nextdom version." alt="" coords="460,853,685,892"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_cache_manager.html#ad62e7ab677383b9e591ea7be6e1357af" title="Get the folder where the cache is stored." alt="" coords="755,853,990,892"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_system_helper.html#ab6c43fe722c0b17bcad97b64dddc75c0" title="Get apache group id." alt="" coords="466,436,680,475"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_system_helper.html#af8edbc1b2262a37d02b96082d58817ff" title="Get apache user id name." alt="" coords="766,376,980,415"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_next_dom_helper.html#a2eb7fdd340eb5ab95e82b4500a9abbbf" title="Get temporary folder and creates it if not exists." alt="" coords="1073,856,1298,895"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#af43fb8a4372343001b0ba4f43ff770ab" title="Creates an array with information about existing backup files." alt="" coords="509,652,637,677"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_log_helper.html#aef6866d7f01a167db0f9a5b61ccb695d" title="Log an information." alt="" coords="777,491,969,529"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_update_manager.html#a374d97919101d5265deae63f1c60ae2b" title="List of repositories." alt="" coords="1367,707,1606,745"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_config_manager.html#a28bc8c5f706be1ed57bd99742193f44d" title="Save new configuration value in the database." alt="" coords="1052,1035,1319,1060"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_system_helper.html#a116d3599268b4fb3d556a8851654235c" title="Start a service." alt="" coords="1078,920,1292,959"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_cron_manager.html#aba926d474bbc73c577a2662f1b4c2939" title="Return an array of all cron objects." alt="" coords="452,1081,694,1107"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_scenario_manager.html#a96670667bc7cee8977d4a91b2910318b" title="Obtenir tous les objets scenario." alt="" coords="475,1183,671,1221"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_cron_manager.html#a08b132381e2f91cfb8b88943eb2c8a5e" title="Return the current pid of jeecron or empty if not running." alt="" coords="760,916,985,955"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_cron_manager.html#a71b18914adce5955013dbd25971dfefb" title="Get status of jeeCron." alt="" coords="460,916,685,955"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_system_helper.html#aa7d4ff55cbd2234bb725202081a19181" title="Kill process." alt="" coords="456,1245,689,1271"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_system_helper.html#af57713579595523c4d30c825f2c076c6" title="Stop a service." alt="" coords="466,1295,680,1333"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_next_dom_1_1_managers_1_1_backup_manager_ace782e411a6c4e97ead02884eb54ea20_icgraph.png" border="0" usemap="#class_next_dom_1_1_managers_1_1_backup_manager_ace782e411a6c4e97ead02884eb54ea20_icgraph" alt=""/></div>
<map name="class_next_dom_1_1_managers_1_1_backup_manager_ace782e411a6c4e97ead02884eb54ea20_icgraph" id="class_next_dom_1_1_managers_1_1_backup_manager_ace782e411a6c4e97ead02884eb54ea20_icgraph">
<area shape="rect" title="Runs the backup procedure." alt="" coords="357,12,460,37"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a27cd8188d6bf24c6de12f55bb7abe72b" title="Creates a backup archive." alt="" coords="245,12,309,37"/>
<area shape="rect" href="class_next_dom_1_1_ajax_1_1_next_dom_ajax.html#ada953121a7d721565b055fef7407296e" title=" " alt="" coords="5,5,197,44"/>
</map>
</div>

</div>
</div>
<a id="a9c8a076632ca9e7e37837af66eabacb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c8a076632ca9e7e37837af66eabacb2">&#9670;&nbsp;</a></span>createBackupArchive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static createBackupArchive </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$outputPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$sqlPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$cachePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$logFile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates an archive with all files that should be included in backup. </p>
<p>We proceed in 4 steps:</p><ol type="1">
<li>creates a tar archive with plugins</li>
<li>append mysql backup to tar archive</li>
<li>append cache to to tar archive</li>
<li>compress tar archive</li>
</ol>
<p>This allows to untie path dependencies between source files while keeping the same directory structure in the tar archive (in order to keep backward compatibility with jeedom archives).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$outputPath</td><td>path of generated backup archive </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sqlPath</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$cachePath</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$logFile</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">CoreException</td><td></td></tr>
    <tr><td class="paramname"></td><td></td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_next_dom_1_1_managers_1_1_backup_manager_a9c8a076632ca9e7e37837af66eabacb2_icgraph.png" border="0" usemap="#class_next_dom_1_1_managers_1_1_backup_manager_a9c8a076632ca9e7e37837af66eabacb2_icgraph" alt=""/></div>
<map name="class_next_dom_1_1_managers_1_1_backup_manager_a9c8a076632ca9e7e37837af66eabacb2_icgraph" id="class_next_dom_1_1_managers_1_1_backup_manager_a9c8a076632ca9e7e37837af66eabacb2_icgraph">
<area shape="rect" title="Creates an archive with all files that should be included in backup." alt="" coords="508,12,656,37"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#ace782e411a6c4e97ead02884eb54ea20" title="Runs the backup procedure." alt="" coords="357,12,460,37"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a27cd8188d6bf24c6de12f55bb7abe72b" title="Creates a backup archive." alt="" coords="245,12,309,37"/>
<area shape="rect" href="class_next_dom_1_1_ajax_1_1_next_dom_ajax.html#ada953121a7d721565b055fef7407296e" title=" " alt="" coords="5,5,197,44"/>
</map>
</div>

</div>
</div>
<a id="afa2a620d4390ce5f6f6ec92a2748ff57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa2a620d4390ce5f6f6ec92a2748ff57">&#9670;&nbsp;</a></span>createDBBackup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static createDBBackup </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$outputFile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a backup of database to given output file path. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$outputFile</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">CoreException</td><td>true when mysqldump failed </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_next_dom_1_1_managers_1_1_backup_manager_afa2a620d4390ce5f6f6ec92a2748ff57_icgraph.png" border="0" usemap="#class_next_dom_1_1_managers_1_1_backup_manager_afa2a620d4390ce5f6f6ec92a2748ff57_icgraph" alt=""/></div>
<map name="class_next_dom_1_1_managers_1_1_backup_manager_afa2a620d4390ce5f6f6ec92a2748ff57_icgraph" id="class_next_dom_1_1_managers_1_1_backup_manager_afa2a620d4390ce5f6f6ec92a2748ff57_icgraph">
<area shape="rect" title="Creates a backup of database to given output file path." alt="" coords="508,12,630,37"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#ace782e411a6c4e97ead02884eb54ea20" title="Runs the backup procedure." alt="" coords="357,12,460,37"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a27cd8188d6bf24c6de12f55bb7abe72b" title="Creates a backup archive." alt="" coords="245,12,309,37"/>
<area shape="rect" href="class_next_dom_1_1_ajax_1_1_next_dom_ajax.html#ada953121a7d721565b055fef7407296e" title=" " alt="" coords="5,5,197,44"/>
</map>
</div>

</div>
</div>
<a id="a08d00aa985d7aecd45665c0b183d0486"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08d00aa985d7aecd45665c0b183d0486">&#9670;&nbsp;</a></span>getBackupDirectory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static getBackupDirectory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns backup directory according to backup::path. </p>
<p>When backup::path is relative, constructs directory from NEXTDOM_DATA root</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">CoreException</td><td>if backup directory cannot be created @retrun string backup root directory </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_next_dom_1_1_managers_1_1_backup_manager_a08d00aa985d7aecd45665c0b183d0486_cgraph.png" border="0" usemap="#class_next_dom_1_1_managers_1_1_backup_manager_a08d00aa985d7aecd45665c0b183d0486_cgraph" alt=""/></div>
<map name="class_next_dom_1_1_managers_1_1_backup_manager_a08d00aa985d7aecd45665c0b183d0486_cgraph" id="class_next_dom_1_1_managers_1_1_backup_manager_a08d00aa985d7aecd45665c0b183d0486_cgraph">
<area shape="rect" title="Returns backup directory according to backup::path." alt="" coords="5,44,143,69"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_config_manager.html#ae4695808d86fd397cfab76bf97db5ee0" title="Get configuration by key." alt="" coords="191,37,426,76"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_config_manager.html#a0c9551afe14fb1b4df707764ea46207d" title="Get default configuration from default.config.ini." alt="" coords="474,5,709,44"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_d_b_helper.html#a4fd597219b185fced898ef86a54bf99c" title="Get one row data from database." alt="" coords="497,68,685,107"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_d_b_helper.html#ab797da453b67184f536a64010d8ea18e" title="Prepare a query and execute." alt="" coords="757,68,945,107"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_d_b_helper.html#a6b25efc0b7bf136a727f36f22577b06c" title="Get the connection." alt="" coords="993,68,1181,107"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_next_dom_1_1_managers_1_1_backup_manager_a08d00aa985d7aecd45665c0b183d0486_icgraph.png" border="0" usemap="#class_next_dom_1_1_managers_1_1_backup_manager_a08d00aa985d7aecd45665c0b183d0486_icgraph" alt=""/></div>
<map name="class_next_dom_1_1_managers_1_1_backup_manager_a08d00aa985d7aecd45665c0b183d0486_icgraph" id="class_next_dom_1_1_managers_1_1_backup_manager_a08d00aa985d7aecd45665c0b183d0486_icgraph">
<area shape="rect" title="Returns backup directory according to backup::path." alt="" coords="725,125,862,151"/>
<area shape="rect" href="class_next_dom_1_1_repo_1_1_repo_samba.html#aee192953b106025fd85ad3960b05009f" title="Start restore process." alt="" coords="6,131,196,169"/>
<area shape="rect" href="class_next_dom_1_1_ajax_1_1_next_dom_ajax.html#a290c92d7c52df5050bc77deb90ffed56" title=" " alt="" coords="485,61,677,100"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#ace782e411a6c4e97ead02884eb54ea20" title="Runs the backup procedure." alt="" coords="529,12,632,37"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#aec53bc1b6d657ca0a59f37c3f591f6ee" title="Obtenir la liste des sauvegardes." alt="" coords="540,180,622,205"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a1d97af581072e4d4d86facc560b83827" title="Runs the restore procedure." alt="" coords="527,232,634,257"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a27cd8188d6bf24c6de12f55bb7abe72b" title="Creates a backup archive." alt="" coords="309,12,373,37"/>
<area shape="rect" href="class_next_dom_1_1_ajax_1_1_next_dom_ajax.html#ada953121a7d721565b055fef7407296e" title=" " alt="" coords="5,5,197,44"/>
<area shape="rect" href="class_next_dom_1_1_ajax_1_1_next_dom_ajax.html#a5919c8d201b683d0db77a8f2a80933fb" title=" " alt="" coords="245,176,437,215"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#afe628a96cf68ea284aaa6d5ad51b6e91" title="Restore a backup from file." alt="" coords="310,239,372,264"/>
<area shape="rect" href="class_next_dom_1_1_repo_1_1_repo_market.html#aa0dd4320470bf335e323fd67b8d8f203" title=" " alt="" coords="7,219,196,257"/>
<area shape="rect" href="class_next_dom_1_1_ajax_1_1_next_dom_ajax.html#aa1371f22826cf8cde4454c9b467203d0" title=" " alt="" coords="5,281,197,320"/>
</map>
</div>

</div>
</div>
<a id="af43fb8a4372343001b0ba4f43ff770ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af43fb8a4372343001b0ba4f43ff770ab">&#9670;&nbsp;</a></span>getBackupFileInfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static getBackupFileInfo </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$backupDir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$order</em> = <code>&quot;newest&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates an array with information about existing backup files. </p>
<p>Available fields:</p><ul>
<li>file: path to backup archive</li>
<li>mtime: current file modification timestamp</li>
<li>size: file size in bytes</li>
</ul>
<ol type="1">
<li>get file list from globing</li>
<li>generate array of object from file list</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$backupDir</td><td>backup root directory </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$order</td><td>sort result by 'newest' or 'oldest' first </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array @retrun array of file object </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_next_dom_1_1_managers_1_1_backup_manager_af43fb8a4372343001b0ba4f43ff770ab_icgraph.png" border="0" usemap="#class_next_dom_1_1_managers_1_1_backup_manager_af43fb8a4372343001b0ba4f43ff770ab_icgraph" alt=""/></div>
<map name="class_next_dom_1_1_managers_1_1_backup_manager_af43fb8a4372343001b0ba4f43ff770ab_icgraph" id="class_next_dom_1_1_managers_1_1_backup_manager_af43fb8a4372343001b0ba4f43ff770ab_icgraph">
<area shape="rect" title="Creates an array with information about existing backup files." alt="" coords="804,133,932,159"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a507bc91be11e067744d8d91c21c14f44" title="Returns path to last available backup archive." alt="" coords="597,81,756,107"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#aec53bc1b6d657ca0a59f37c3f591f6ee" title="Obtenir la liste des sauvegardes." alt="" coords="635,133,717,159"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a2b5b2e6ecb7f01476001d6db4dd691b3" title="Removes backup archives according to backup::keepDays and backup::maxSize." alt="" coords="623,185,730,211"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a1d97af581072e4d4d86facc560b83827" title="Runs the restore procedure." alt="" coords="400,76,507,101"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#afe628a96cf68ea284aaa6d5ad51b6e91" title="Restore a backup from file." alt="" coords="246,76,309,101"/>
<area shape="rect" href="class_next_dom_1_1_repo_1_1_repo_samba.html#aee192953b106025fd85ad3960b05009f" title="Start restore process." alt="" coords="6,5,196,44"/>
<area shape="rect" href="class_next_dom_1_1_repo_1_1_repo_market.html#aa0dd4320470bf335e323fd67b8d8f203" title=" " alt="" coords="7,68,196,107"/>
<area shape="rect" href="class_next_dom_1_1_ajax_1_1_next_dom_ajax.html#aa1371f22826cf8cde4454c9b467203d0" title=" " alt="" coords="5,131,197,169"/>
<area shape="rect" href="class_next_dom_1_1_ajax_1_1_next_dom_ajax.html#a5919c8d201b683d0db77a8f2a80933fb" title=" " alt="" coords="357,127,549,165"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#ace782e411a6c4e97ead02884eb54ea20" title="Runs the backup procedure." alt="" coords="402,191,505,216"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a27cd8188d6bf24c6de12f55bb7abe72b" title="Creates a backup archive." alt="" coords="245,193,309,219"/>
<area shape="rect" href="class_next_dom_1_1_ajax_1_1_next_dom_ajax.html#ada953121a7d721565b055fef7407296e" title=" " alt="" coords="5,193,197,232"/>
</map>
</div>

</div>
</div>
<a id="a55c13c988beeb475343d0ca1f36d441a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55c13c988beeb475343d0ca1f36d441a">&#9670;&nbsp;</a></span>getBackupFilename()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static getBackupFilename </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em> = <code>null</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Computes backup filename from nextdom's name and current datetime. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>current nextdom name, default given by <a class="el" href="class_next_dom_1_1_managers_1_1_config_manager.html">ConfigManager</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"></td><td></td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_next_dom_1_1_managers_1_1_backup_manager_a55c13c988beeb475343d0ca1f36d441a_cgraph.png" border="0" usemap="#class_next_dom_1_1_managers_1_1_backup_manager_a55c13c988beeb475343d0ca1f36d441a_cgraph" alt=""/></div>
<map name="class_next_dom_1_1_managers_1_1_backup_manager_a55c13c988beeb475343d0ca1f36d441a_cgraph" id="class_next_dom_1_1_managers_1_1_backup_manager_a55c13c988beeb475343d0ca1f36d441a_cgraph">
<area shape="rect" title="Computes backup filename from nextdom&#39;s name and current datetime." alt="" coords="5,75,145,100"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_config_manager.html#ae4695808d86fd397cfab76bf97db5ee0" title="Get configuration by key." alt="" coords="193,36,427,75"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_next_dom_helper.html#a6cf68c49b664014c65f64cf7ac03623e" title="Get Nextdom version." alt="" coords="197,99,422,137"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_config_manager.html#a0c9551afe14fb1b4df707764ea46207d" title="Get default configuration from default.config.ini." alt="" coords="475,5,710,44"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_d_b_helper.html#a4fd597219b185fced898ef86a54bf99c" title="Get one row data from database." alt="" coords="499,68,687,107"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_d_b_helper.html#ab797da453b67184f536a64010d8ea18e" title="Prepare a query and execute." alt="" coords="758,68,946,107"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_d_b_helper.html#a6b25efc0b7bf136a727f36f22577b06c" title="Get the connection." alt="" coords="994,68,1182,107"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_next_dom_1_1_managers_1_1_backup_manager_a55c13c988beeb475343d0ca1f36d441a_icgraph.png" border="0" usemap="#class_next_dom_1_1_managers_1_1_backup_manager_a55c13c988beeb475343d0ca1f36d441a_icgraph" alt=""/></div>
<map name="class_next_dom_1_1_managers_1_1_backup_manager_a55c13c988beeb475343d0ca1f36d441a_icgraph" id="class_next_dom_1_1_managers_1_1_backup_manager_a55c13c988beeb475343d0ca1f36d441a_icgraph">
<area shape="rect" title="Computes backup filename from nextdom&#39;s name and current datetime." alt="" coords="508,12,647,37"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#ace782e411a6c4e97ead02884eb54ea20" title="Runs the backup procedure." alt="" coords="357,12,460,37"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a27cd8188d6bf24c6de12f55bb7abe72b" title="Creates a backup archive." alt="" coords="245,12,309,37"/>
<area shape="rect" href="class_next_dom_1_1_ajax_1_1_next_dom_ajax.html#ada953121a7d721565b055fef7407296e" title=" " alt="" coords="5,5,197,44"/>
</map>
</div>

</div>
</div>
<a id="a507bc91be11e067744d8d91c21c14f44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a507bc91be11e067744d8d91c21c14f44">&#9670;&nbsp;</a></span>getLastBackupFilePath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static getLastBackupFilePath </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$backupDir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$order</em> = <code>&quot;newest&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns path to last available backup archive. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"></td><td class="paramname">$backupDir</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$order</td><td>sort result by 'newest' or 'oldest' first </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string archive file path </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">CoreException</td><td>when no archive is found </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_next_dom_1_1_managers_1_1_backup_manager_a507bc91be11e067744d8d91c21c14f44_cgraph.png" border="0" usemap="#class_next_dom_1_1_managers_1_1_backup_manager_a507bc91be11e067744d8d91c21c14f44_cgraph" alt=""/></div>
<map name="class_next_dom_1_1_managers_1_1_backup_manager_a507bc91be11e067744d8d91c21c14f44_cgraph" id="class_next_dom_1_1_managers_1_1_backup_manager_a507bc91be11e067744d8d91c21c14f44_cgraph">
<area shape="rect" title="Returns path to last available backup archive." alt="" coords="5,5,164,31"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#af43fb8a4372343001b0ba4f43ff770ab" title="Creates an array with information about existing backup files." alt="" coords="212,5,340,31"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_next_dom_1_1_managers_1_1_backup_manager_a507bc91be11e067744d8d91c21c14f44_icgraph.png" border="0" usemap="#class_next_dom_1_1_managers_1_1_backup_manager_a507bc91be11e067744d8d91c21c14f44_icgraph" alt=""/></div>
<map name="class_next_dom_1_1_managers_1_1_backup_manager_a507bc91be11e067744d8d91c21c14f44_icgraph" id="class_next_dom_1_1_managers_1_1_backup_manager_a507bc91be11e067744d8d91c21c14f44_icgraph">
<area shape="rect" title="Returns path to last available backup archive." alt="" coords="511,75,670,100"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a1d97af581072e4d4d86facc560b83827" title="Runs the restore procedure." alt="" coords="356,75,463,100"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#afe628a96cf68ea284aaa6d5ad51b6e91" title="Restore a backup from file." alt="" coords="245,75,308,100"/>
<area shape="rect" href="class_next_dom_1_1_repo_1_1_repo_samba.html#aee192953b106025fd85ad3960b05009f" title="Start restore process." alt="" coords="6,5,196,44"/>
<area shape="rect" href="class_next_dom_1_1_repo_1_1_repo_market.html#aa0dd4320470bf335e323fd67b8d8f203" title=" " alt="" coords="7,68,196,107"/>
<area shape="rect" href="class_next_dom_1_1_ajax_1_1_next_dom_ajax.html#aa1371f22826cf8cde4454c9b467203d0" title=" " alt="" coords="5,131,197,169"/>
</map>
</div>

</div>
</div>
<a id="aec53bc1b6d657ca0a59f37c3f591f6ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec53bc1b6d657ca0a59f37c3f591f6ee">&#9670;&nbsp;</a></span>listBackup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static listBackup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Obtenir la liste des sauvegardes. </p>
<dl class="section return"><dt>Returns</dt><dd>array Liste des sauvegardes </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"></td><td></td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_next_dom_1_1_managers_1_1_backup_manager_aec53bc1b6d657ca0a59f37c3f591f6ee_cgraph.png" border="0" usemap="#class_next_dom_1_1_managers_1_1_backup_manager_aec53bc1b6d657ca0a59f37c3f591f6ee_cgraph" alt=""/></div>
<map name="class_next_dom_1_1_managers_1_1_backup_manager_aec53bc1b6d657ca0a59f37c3f591f6ee_cgraph" id="class_next_dom_1_1_managers_1_1_backup_manager_aec53bc1b6d657ca0a59f37c3f591f6ee_cgraph">
<area shape="rect" title="Obtenir la liste des sauvegardes." alt="" coords="5,69,87,95"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a08d00aa985d7aecd45665c0b183d0486" title="Returns backup directory according to backup::path." alt="" coords="135,44,273,69"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#af43fb8a4372343001b0ba4f43ff770ab" title="Creates an array with information about existing backup files." alt="" coords="140,93,268,119"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_config_manager.html#ae4695808d86fd397cfab76bf97db5ee0" title="Get configuration by key." alt="" coords="321,37,556,76"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_config_manager.html#a0c9551afe14fb1b4df707764ea46207d" title="Get default configuration from default.config.ini." alt="" coords="604,5,839,44"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_d_b_helper.html#a4fd597219b185fced898ef86a54bf99c" title="Get one row data from database." alt="" coords="627,68,815,107"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_d_b_helper.html#ab797da453b67184f536a64010d8ea18e" title="Prepare a query and execute." alt="" coords="887,68,1075,107"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_d_b_helper.html#a6b25efc0b7bf136a727f36f22577b06c" title="Get the connection." alt="" coords="1123,68,1311,107"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_next_dom_1_1_managers_1_1_backup_manager_aec53bc1b6d657ca0a59f37c3f591f6ee_icgraph.png" border="0" usemap="#class_next_dom_1_1_managers_1_1_backup_manager_aec53bc1b6d657ca0a59f37c3f591f6ee_icgraph" alt=""/></div>
<map name="class_next_dom_1_1_managers_1_1_backup_manager_aec53bc1b6d657ca0a59f37c3f591f6ee_icgraph" id="class_next_dom_1_1_managers_1_1_backup_manager_aec53bc1b6d657ca0a59f37c3f591f6ee_icgraph">
<area shape="rect" title="Obtenir la liste des sauvegardes." alt="" coords="245,12,327,37"/>
<area shape="rect" href="class_next_dom_1_1_ajax_1_1_next_dom_ajax.html#a5919c8d201b683d0db77a8f2a80933fb" title=" " alt="" coords="5,5,197,44"/>
</map>
</div>

</div>
</div>
<a id="a5999d4424be1a18ba91f9d1450380377"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5999d4424be1a18ba91f9d1450380377">&#9670;&nbsp;</a></span>loadSQLFromFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static loadSQLFromFile </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Load given file in mysql database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$file</td><td>path to file to load </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">CoreException</td><td></td></tr>
    <tr><td class="paramname">CoreException</td><td>when a mysql error occurs </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_next_dom_1_1_managers_1_1_backup_manager_a5999d4424be1a18ba91f9d1450380377_cgraph.png" border="0" usemap="#class_next_dom_1_1_managers_1_1_backup_manager_a5999d4424be1a18ba91f9d1450380377_cgraph" alt=""/></div>
<map name="class_next_dom_1_1_managers_1_1_backup_manager_a5999d4424be1a18ba91f9d1450380377_cgraph" id="class_next_dom_1_1_managers_1_1_backup_manager_a5999d4424be1a18ba91f9d1450380377_cgraph">
<area shape="rect" title="Load given file in mysql database." alt="" coords="5,12,131,37"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_system_helper.html#a9739c212169febd37616db45a1526e55" title=" " alt="" coords="179,5,393,44"/>
</map>
</div>

</div>
</div>
<a id="a863a14b04bb8a066483c36d7c5c3fdfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a863a14b04bb8a066483c36d7c5c3fdfb">&#9670;&nbsp;</a></span>removeBackup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static removeBackup </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$backupFilePath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove a backup file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$backupFilePath</td><td>Backup file path</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">CoreException</td><td></td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_next_dom_1_1_managers_1_1_backup_manager_a863a14b04bb8a066483c36d7c5c3fdfb_cgraph.png" border="0" usemap="#class_next_dom_1_1_managers_1_1_backup_manager_a863a14b04bb8a066483c36d7c5c3fdfb_cgraph" alt=""/></div>
<map name="class_next_dom_1_1_managers_1_1_backup_manager_a863a14b04bb8a066483c36d7c5c3fdfb_cgraph" id="class_next_dom_1_1_managers_1_1_backup_manager_a863a14b04bb8a066483c36d7c5c3fdfb_cgraph">
<area shape="rect" title="Remove a backup file." alt="" coords="5,41,116,67"/>
<area shape="rect" href="namespace_next_dom.html#a9610e1f499e0995e17fa108053065d08" title="Translate a string." alt="" coords="164,41,259,67"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_translate_helper.html#a756453f5746332d01aae5d7f0a583df7" title="Traduction direct d&#39;une phrase." alt="" coords="307,35,492,73"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_translate_helper.html#a4ac118d290a9e8bdce621a813fa058ad" title="Lance la traduction d&#39;un texte." alt="" coords="540,5,726,44"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_translate_helper.html#ae34010c132ac0dc3b0ab65beb42d4f7c" title="Obtenir les traductions pour la langue courante." alt="" coords="774,35,959,73"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_translate_helper.html#af66c7c22aba46f400b2e392f09fd48fb" title="Obtenir la langue configurée." alt="" coords="1246,5,1432,44"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_translate_helper.html#a9f3573951dbcc095bcc364eed754da14" title="Charge les informations de traduction TODO: Même celles de tous les plugins." alt="" coords="1007,63,1192,101"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_translate_helper.html#a0fd2914593a531e82e827b2c879da15c" title="Obtenir une des informations de la configuration liée à la traduction." alt="" coords="1486,5,1671,44"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_config_manager.html#a824e9e4c9274cab6f7acab17c8b945df" title="Get configuration by multiple keys." alt="" coords="1719,5,1954,44"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_translate_helper.html#afa4ed863a3f92d0912e6aeea99dc2d0e" title="Obtenir le chemin du fichier de traduction d&#39;une langue." alt="" coords="1240,68,1438,107"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_next_dom_1_1_managers_1_1_backup_manager_a863a14b04bb8a066483c36d7c5c3fdfb_icgraph.png" border="0" usemap="#class_next_dom_1_1_managers_1_1_backup_manager_a863a14b04bb8a066483c36d7c5c3fdfb_icgraph" alt=""/></div>
<map name="class_next_dom_1_1_managers_1_1_backup_manager_a863a14b04bb8a066483c36d7c5c3fdfb_icgraph" id="class_next_dom_1_1_managers_1_1_backup_manager_a863a14b04bb8a066483c36d7c5c3fdfb_icgraph">
<area shape="rect" title="Remove a backup file." alt="" coords="245,12,355,37"/>
<area shape="rect" href="class_next_dom_1_1_ajax_1_1_next_dom_ajax.html#ab6564455aa84418dd9a29c1dfd152be0" title=" " alt="" coords="5,5,197,44"/>
</map>
</div>

</div>
</div>
<a id="ace1bacd577bd2254c9a68e501fdd84ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace1bacd577bd2254c9a68e501fdd84ca">&#9670;&nbsp;</a></span>repairDB()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static repairDB </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks and repair database. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">CoreException</td><td>when mysqlcheck exited with error status </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_next_dom_1_1_managers_1_1_backup_manager_ace1bacd577bd2254c9a68e501fdd84ca_icgraph.png" border="0" usemap="#class_next_dom_1_1_managers_1_1_backup_manager_ace1bacd577bd2254c9a68e501fdd84ca_icgraph" alt=""/></div>
<map name="class_next_dom_1_1_managers_1_1_backup_manager_ace1bacd577bd2254c9a68e501fdd84ca_icgraph" id="class_next_dom_1_1_managers_1_1_backup_manager_ace1bacd577bd2254c9a68e501fdd84ca_icgraph">
<area shape="rect" title="Checks and repair database." alt="" coords="508,12,582,37"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#ace782e411a6c4e97ead02884eb54ea20" title="Runs the backup procedure." alt="" coords="357,12,460,37"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a27cd8188d6bf24c6de12f55bb7abe72b" title="Creates a backup archive." alt="" coords="245,12,309,37"/>
<area shape="rect" href="class_next_dom_1_1_ajax_1_1_next_dom_ajax.html#ada953121a7d721565b055fef7407296e" title=" " alt="" coords="5,5,197,44"/>
</map>
</div>

</div>
</div>
<a id="afe628a96cf68ea284aaa6d5ad51b6e91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe628a96cf68ea284aaa6d5ad51b6e91">&#9670;&nbsp;</a></span>restore()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static restore </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$file</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>$background</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Restore a backup from file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$file</td><td>Backup file path </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$background</td><td>Start backup task in background </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"></td><td></td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_next_dom_1_1_managers_1_1_backup_manager_afe628a96cf68ea284aaa6d5ad51b6e91_cgraph.png" border="0" usemap="#class_next_dom_1_1_managers_1_1_backup_manager_afe628a96cf68ea284aaa6d5ad51b6e91_cgraph" alt=""/></div>
<map name="class_next_dom_1_1_managers_1_1_backup_manager_afe628a96cf68ea284aaa6d5ad51b6e91_cgraph" id="class_next_dom_1_1_managers_1_1_backup_manager_afe628a96cf68ea284aaa6d5ad51b6e91_cgraph">
<area shape="rect" title="Restore a backup from file." alt="" coords="5,226,68,251"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_log_helper.html#af64c83a3bb07eeef70cb65ec9cbf84fc" title="Clear log file." alt="" coords="720,370,912,408"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_log_helper.html#a7e0e52bdf0635af0118ce4c49c138616" title="Get target path log (usually /var/log/nextdom)" alt="" coords="1006,286,1198,324"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_system_helper.html#a03248ba1274669947482d53b18506308" title="Execute PHP command." alt="" coords="116,251,356,276"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a1d97af581072e4d4d86facc560b83827" title="Runs the restore procedure." alt="" coords="182,570,290,595"/>
<area shape="rect" href="class_next_dom_1_1_com_1_1_com_shell.html#a2444160cf715a3b170c54bf076b25801" title="Execute a command." alt="" coords="1017,364,1187,403"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_system_helper.html#adfa1119c93aed305edf0a34f9d574c04" title="Get sudo command." alt="" coords="995,595,1209,634"/>
<area shape="rect" href="class_next_dom_1_1_com_1_1_com_shell.html#ac93fbec81f07e5d15f80db907e63dc10" title="Get the instance of com_shell." alt="" coords="1298,359,1469,398"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_next_dom_helper.html#a7a3429f446f9db275f118bf41bbb7942" title="Test if NextDom can call system function." alt="" coords="1271,595,1496,634"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_cache_manager.html#a0876e53f130e9430811a79e786c02e0c" title="Get stored object by key." alt="" coords="1555,534,1789,572"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_next_dom_helper.html#ad4e9ca45ed4392062743765796f64791" title="Get hostname." alt="" coords="1560,596,1785,635"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_cache_manager.html#af7ddee5a83aa46d9f8e4b071e6d25335" title="Store object in cache." alt="" coords="1544,659,1800,684"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_config_manager.html#ae4695808d86fd397cfab76bf97db5ee0" title="Get configuration by key." alt="" coords="2163,518,2398,556"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_config_manager.html#a28bc8c5f706be1ed57bd99742193f44d" title="Save new configuration value in the database." alt="" coords="1848,823,2115,848"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_config_manager.html#a0c9551afe14fb1b4df707764ea46207d" title="Get default configuration from default.config.ini." alt="" coords="2446,632,2680,671"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_log_helper.html#ada013231ed32c57edca6885116d176c3" title="Log an error." alt="" coords="1288,263,1479,302"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_consistency_manager.html#ae1bb0227ee32e9526afb5600b8fc5eab" title="Start consistency check of the system." alt="" coords="420,856,636,895"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_console_helper.html#a1d78d52cbcb03cbbbfe514773f54cf06" title="Show error message." alt="" coords="419,478,637,516"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_next_dom_helper.html#a2ac9f06d44b956a01745521940b04c5a" title="Check an event." alt="" coords="415,86,640,124"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a08d00aa985d7aecd45665c0b183d0486" title="Returns backup directory according to backup::path." alt="" coords="1315,484,1452,510"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a507bc91be11e067744d8d91c21c14f44" title="Returns path to last available backup archive." alt="" coords="449,428,607,454"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_migration_helper.html#af8dd107daec5031fc6faa19a46626694" title="Main migrate process." alt="" coords="435,592,620,631"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_console_helper.html#a53353f88390d3d1b580a842455d7daab" title="Show process information." alt="" coords="707,700,925,739"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_console_helper.html#a8219703c5acfa6db575b0464e9acd9b8" title="Show not ok message." alt="" coords="406,758,650,783"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_console_helper.html#a2cdf4a5b1248db93096edb610c7c97dd" title="Show ok message." alt="" coords="410,807,646,832"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_next_dom_helper.html#ab592353eefc343cf696f184d79fbb9f9" title="Start all cron tasks and scenarios." alt="" coords="1560,760,1785,799"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_console_helper.html#a17ff46b018e62e3e3b611a1609a39260" title="Show step information." alt="" coords="404,919,651,944"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_next_dom_helper.html#ad686923149ee99c13b8895133dcc0d69" title="Stop all cron tasks and scenarios." alt="" coords="415,1010,640,1048"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_console_helper.html#a3d6e756b99c1f847d7937c62c007ef3f" title="Show subtitle." alt="" coords="419,251,637,290"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_console_helper.html#a30efebe4e50a775ea505a60e8dde3ef3" title="Show title." alt="" coords="419,314,637,352"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_log_helper.html#a4d086122826f89ccd612789af05ff0ba" title="Add a message to the log and ensure that there are never more than 1000 lines." alt="" coords="1563,343,1781,368"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_message_manager.html#a3fb2dbd02fd3e3b3e6c49e9420fda03e" title=" " alt="" coords="1883,306,2080,344"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_log_helper.html#a59bc2904869e417bffca60916a5cde96" title="Get logger depends of target." alt="" coords="1886,368,2077,407"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_cron_manager.html#a2d964e881b99820bf727aa0c4bd96cd9" title="Clean cron that will never run." alt="" coords="704,815,929,854"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_cron_manager.html#aba926d474bbc73c577a2662f1b4c2939" title="Return an array of all cron objects." alt="" coords="981,1044,1223,1070"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_scenario_manager.html#a1ef3d1d6487e953bd1ed01055f680b82" title="Vérifier un scénario TODO: Virer les strings." alt="" coords="718,86,914,124"/>
<area shape="rect" href="namespace_next_dom.html#a9610e1f499e0995e17fa108053065d08" title="Translate a string." alt="" coords="1336,46,1431,71"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_scenario_manager.html#a0abe413eb60ae7e41e0c990abeb51337" title="Obtenir la liste des scénarios en fonction d&#39;un déclencheur." alt="" coords="1004,30,1200,68"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_next_dom_helper.html#a200408f038fcce94094315855d114ff2" title="Update time status and get it." alt="" coords="989,155,1214,194"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_scenario_manager.html#a623826019b89c27333a6a546e50e89f1" title="Obtenir la liste des scénarios planifiés." alt="" coords="1004,92,1200,131"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#af43fb8a4372343001b0ba4f43ff770ab" title="Creates an array with information about existing backup files." alt="" coords="752,320,880,346"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_log_helper.html#aef6866d7f01a167db0f9a5b61ccb695d" title="Log an information." alt="" coords="1288,422,1479,460"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_next_dom_helper.html#a6cf68c49b664014c65f64cf7ac03623e" title="Get Nextdom version." alt="" coords="704,535,929,574"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_next_dom_helper.html#a2eb7fdd340eb5ab95e82b4500a9abbbf" title="Get temporary folder and creates it if not exists." alt="" coords="1869,646,2094,684"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_system_helper.html#a116d3599268b4fb3d556a8851654235c" title="Start a service." alt="" coords="1875,760,2089,799"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_scenario_manager.html#a96670667bc7cee8977d4a91b2910318b" title="Obtenir tous les objets scenario." alt="" coords="718,1042,914,1080"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_cron_manager.html#a08b132381e2f91cfb8b88943eb2c8a5e" title="Return the current pid of jeecron or empty if not running." alt="" coords="989,922,1214,960"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_cron_manager.html#a71b18914adce5955013dbd25971dfefb" title="Get status of jeeCron." alt="" coords="704,979,929,1018"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_system_helper.html#aa7d4ff55cbd2234bb725202081a19181" title="Kill process." alt="" coords="699,878,933,903"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_system_helper.html#af57713579595523c4d30c825f2c076c6" title="Stop a service." alt="" coords="709,1156,923,1195"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_next_dom_1_1_managers_1_1_backup_manager_afe628a96cf68ea284aaa6d5ad51b6e91_icgraph.png" border="0" usemap="#class_next_dom_1_1_managers_1_1_backup_manager_afe628a96cf68ea284aaa6d5ad51b6e91_icgraph" alt=""/></div>
<map name="class_next_dom_1_1_managers_1_1_backup_manager_afe628a96cf68ea284aaa6d5ad51b6e91_icgraph" id="class_next_dom_1_1_managers_1_1_backup_manager_afe628a96cf68ea284aaa6d5ad51b6e91_icgraph">
<area shape="rect" title="Restore a backup from file." alt="" coords="245,75,308,100"/>
<area shape="rect" href="class_next_dom_1_1_repo_1_1_repo_samba.html#aee192953b106025fd85ad3960b05009f" title="Start restore process." alt="" coords="6,5,196,44"/>
<area shape="rect" href="class_next_dom_1_1_repo_1_1_repo_market.html#aa0dd4320470bf335e323fd67b8d8f203" title=" " alt="" coords="7,68,196,107"/>
<area shape="rect" href="class_next_dom_1_1_ajax_1_1_next_dom_ajax.html#aa1371f22826cf8cde4454c9b467203d0" title=" " alt="" coords="5,131,197,169"/>
</map>
</div>

</div>
</div>
<a id="a1d97af581072e4d4d86facc560b83827"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d97af581072e4d4d86facc560b83827">&#9670;&nbsp;</a></span>restoreBackup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static restoreBackup </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$file</em> = <code>''</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Runs the restore procedure. </p>
<p>Last output should not be removed since it act as a marker in ajax calls</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$file</td><td>path to backup archive, when empty, use last available backup </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool false when error occurs </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">CoreException</td><td></td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_next_dom_1_1_managers_1_1_backup_manager_a1d97af581072e4d4d86facc560b83827_cgraph.png" border="0" usemap="#class_next_dom_1_1_managers_1_1_backup_manager_a1d97af581072e4d4d86facc560b83827_cgraph" alt=""/></div>
<map name="class_next_dom_1_1_managers_1_1_backup_manager_a1d97af581072e4d4d86facc560b83827_cgraph" id="class_next_dom_1_1_managers_1_1_backup_manager_a1d97af581072e4d4d86facc560b83827_cgraph">
<area shape="rect" title="Runs the restore procedure." alt="" coords="5,1087,113,1112"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_log_helper.html#ada013231ed32c57edca6885116d176c3" title="Log an error." alt="" coords="1036,857,1228,896"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_consistency_manager.html#ae1bb0227ee32e9526afb5600b8fc5eab" title="Start consistency check of the system." alt="" coords="176,539,392,577"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_console_helper.html#a1d78d52cbcb03cbbbfe514773f54cf06" title="Show error message." alt="" coords="175,1137,394,1176"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_next_dom_helper.html#a2ac9f06d44b956a01745521940b04c5a" title="Check an event." alt="" coords="172,687,397,725"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a08d00aa985d7aecd45665c0b183d0486" title="Returns backup directory according to backup::path." alt="" coords="1656,1035,1793,1060"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a507bc91be11e067744d8d91c21c14f44" title="Returns path to last available backup archive." alt="" coords="205,1200,364,1225"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_migration_helper.html#af8dd107daec5031fc6faa19a46626694" title="Main migrate process." alt="" coords="476,857,661,896"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_console_helper.html#a53353f88390d3d1b580a842455d7daab" title="Show process information." alt="" coords="741,972,959,1011"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_console_helper.html#a8219703c5acfa6db575b0464e9acd9b8" title="Show not ok message." alt="" coords="162,1249,406,1275"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_console_helper.html#a2cdf4a5b1248db93096edb610c7c97dd" title="Show ok message." alt="" coords="166,1299,402,1324"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_next_dom_helper.html#ab592353eefc343cf696f184d79fbb9f9" title="Start all cron tasks and scenarios." alt="" coords="1019,5,1244,44"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_console_helper.html#a17ff46b018e62e3e3b611a1609a39260" title="Show step information." alt="" coords="161,1348,408,1373"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_next_dom_helper.html#ad686923149ee99c13b8895133dcc0d69" title="Stop all cron tasks and scenarios." alt="" coords="456,280,681,319"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_console_helper.html#a3d6e756b99c1f847d7937c62c007ef3f" title="Show subtitle." alt="" coords="175,1397,394,1436"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_console_helper.html#a30efebe4e50a775ea505a60e8dde3ef3" title="Show title." alt="" coords="175,1460,394,1499"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_log_helper.html#a4d086122826f89ccd612789af05ff0ba" title="Add a message to the log and ensure that there are never more than 1000 lines." alt="" coords="1317,895,1535,920"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_message_manager.html#a3fb2dbd02fd3e3b3e6c49e9420fda03e" title=" " alt="" coords="1626,920,1823,959"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_log_helper.html#a59bc2904869e417bffca60916a5cde96" title="Get logger depends of target." alt="" coords="1629,857,1820,896"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_config_manager.html#ae4695808d86fd397cfab76bf97db5ee0" title="Get configuration by key." alt="" coords="1890,396,2125,435"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_config_manager.html#a0c9551afe14fb1b4df707764ea46207d" title="Get default configuration from default.config.ini." alt="" coords="2173,368,2407,407"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_d_b_helper.html#a4fd597219b185fced898ef86a54bf99c" title="Get one row data from database." alt="" coords="2196,73,2384,112"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_cron_manager.html#a2d964e881b99820bf727aa0c4bd96cd9" title="Clean cron that will never run." alt="" coords="456,453,681,492"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_cron_manager.html#aba926d474bbc73c577a2662f1b4c2939" title="Return an array of all cron objects." alt="" coords="729,404,971,429"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_d_b_helper.html#a339a8d56d518dbacc67fbe93703e1780" title="Build fields for query." alt="" coords="1038,391,1226,429"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_d_b_helper.html#a744d0039a3a1e249044fe38f7fa04189" title="Get objects from database." alt="" coords="1038,453,1226,492"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_scenario_manager.html#a1ef3d1d6487e953bd1ed01055f680b82" title="Vérifier un scénario TODO: Virer les strings." alt="" coords="470,573,667,612"/>
<area shape="rect" href="namespace_next_dom.html#a9610e1f499e0995e17fa108053065d08" title="Translate a string." alt="" coords="1084,516,1180,541"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_scenario_manager.html#a0abe413eb60ae7e41e0c990abeb51337" title="Obtenir la liste des scénarios en fonction d&#39;un déclencheur." alt="" coords="752,453,948,492"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_next_dom_helper.html#a200408f038fcce94094315855d114ff2" title="Update time status and get it." alt="" coords="738,631,963,669"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_scenario_manager.html#a623826019b89c27333a6a546e50e89f1" title="Obtenir la liste des scénarios planifiés." alt="" coords="752,516,948,555"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_translate_helper.html#a756453f5746332d01aae5d7f0a583df7" title="Traduction direct d&#39;une phrase." alt="" coords="1333,503,1518,541"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#af43fb8a4372343001b0ba4f43ff770ab" title="Creates an array with information about existing backup files." alt="" coords="505,1200,633,1225"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_log_helper.html#aef6866d7f01a167db0f9a5b61ccb695d" title="Log an information." alt="" coords="1036,920,1228,959"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_log_helper.html#af64c83a3bb07eeef70cb65ec9cbf84fc" title="Clear log file." alt="" coords="754,743,946,781"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_next_dom_helper.html#a6cf68c49b664014c65f64cf7ac03623e" title="Get Nextdom version." alt="" coords="738,857,963,896"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_config_manager.html#a28bc8c5f706be1ed57bd99742193f44d" title="Save new configuration value in the database." alt="" coords="1292,177,1559,203"/>
<area shape="rect" href="class_next_dom_1_1_com_1_1_com_shell.html#a2444160cf715a3b170c54bf076b25801" title="Execute a command." alt="" coords="1047,680,1217,719"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_system_helper.html#adfa1119c93aed305edf0a34f9d574c04" title="Get sudo command." alt="" coords="1025,617,1239,656"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_log_helper.html#a7e0e52bdf0635af0118ce4c49c138616" title="Get target path log (usually /var/log/nextdom)" alt="" coords="1036,743,1228,781"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_d_b_helper.html#a01c203ce9e139c8217a39d446eca7ea3" title="Execute a query without result (DELETE, UPDATE, INSERT, etc.)" alt="" coords="1897,75,2117,100"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_next_dom_helper.html#aaa69e3f215a5e653f61ec2bb0d57d44e" title="Get configuration informations or global configuration." alt="" coords="1612,177,1837,216"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_config_manager.html#ac91a39d2fc0ff49855ad66b906d00bf0" title="Remove key from the database." alt="" coords="1607,12,1842,51"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_next_dom_helper.html#a2eb7fdd340eb5ab95e82b4500a9abbbf" title="Get temporary folder and creates it if not exists." alt="" coords="1313,227,1538,265"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_system_helper.html#a116d3599268b4fb3d556a8851654235c" title="Start a service." alt="" coords="1319,5,1533,44"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_scenario_manager.html#a96670667bc7cee8977d4a91b2910318b" title="Obtenir tous les objets scenario." alt="" coords="752,341,948,380"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_cron_manager.html#a08b132381e2f91cfb8b88943eb2c8a5e" title="Return the current pid of jeecron or empty if not running." alt="" coords="1019,164,1244,203"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_cron_manager.html#a71b18914adce5955013dbd25971dfefb" title="Get status of jeeCron." alt="" coords="738,164,963,203"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_system_helper.html#aa7d4ff55cbd2234bb725202081a19181" title="Kill process." alt="" coords="734,693,967,719"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_system_helper.html#af57713579595523c4d30c825f2c076c6" title="Stop a service." alt="" coords="743,227,957,265"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_next_dom_1_1_managers_1_1_backup_manager_a1d97af581072e4d4d86facc560b83827_icgraph.png" border="0" usemap="#class_next_dom_1_1_managers_1_1_backup_manager_a1d97af581072e4d4d86facc560b83827_icgraph" alt=""/></div>
<map name="class_next_dom_1_1_managers_1_1_backup_manager_a1d97af581072e4d4d86facc560b83827_icgraph" id="class_next_dom_1_1_managers_1_1_backup_manager_a1d97af581072e4d4d86facc560b83827_icgraph">
<area shape="rect" title="Runs the restore procedure." alt="" coords="356,75,463,100"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#afe628a96cf68ea284aaa6d5ad51b6e91" title="Restore a backup from file." alt="" coords="245,75,308,100"/>
<area shape="rect" href="class_next_dom_1_1_repo_1_1_repo_samba.html#aee192953b106025fd85ad3960b05009f" title="Start restore process." alt="" coords="6,5,196,44"/>
<area shape="rect" href="class_next_dom_1_1_repo_1_1_repo_market.html#aa0dd4320470bf335e323fd67b8d8f203" title=" " alt="" coords="7,68,196,107"/>
<area shape="rect" href="class_next_dom_1_1_ajax_1_1_next_dom_ajax.html#aa1371f22826cf8cde4454c9b467203d0" title=" " alt="" coords="5,131,197,169"/>
</map>
</div>

</div>
</div>
<a id="a2b5b2e6ecb7f01476001d6db4dd691b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b5b2e6ecb7f01476001d6db4dd691b3">&#9670;&nbsp;</a></span>rotateBackups()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static rotateBackups </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$backupDir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes backup archives according to backup::keepDays and backup::maxSize. </p>
<ol type="1">
<li>since files are sorted, we can sum-up bytes until limit is reached from that point, remove all other files</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$backupDir</td><td>backup root directory </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"></td><td></td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_next_dom_1_1_managers_1_1_backup_manager_a2b5b2e6ecb7f01476001d6db4dd691b3_cgraph.png" border="0" usemap="#class_next_dom_1_1_managers_1_1_backup_manager_a2b5b2e6ecb7f01476001d6db4dd691b3_cgraph" alt=""/></div>
<map name="class_next_dom_1_1_managers_1_1_backup_manager_a2b5b2e6ecb7f01476001d6db4dd691b3_cgraph" id="class_next_dom_1_1_managers_1_1_backup_manager_a2b5b2e6ecb7f01476001d6db4dd691b3_cgraph">
<area shape="rect" title="Removes backup archives according to backup::keepDays and backup::maxSize." alt="" coords="5,71,112,96"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_config_manager.html#ae4695808d86fd397cfab76bf97db5ee0" title="Get configuration by key." alt="" coords="160,36,395,75"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#af43fb8a4372343001b0ba4f43ff770ab" title="Creates an array with information about existing backup files." alt="" coords="213,99,341,124"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_config_manager.html#a0c9551afe14fb1b4df707764ea46207d" title="Get default configuration from default.config.ini." alt="" coords="443,5,677,44"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_d_b_helper.html#a4fd597219b185fced898ef86a54bf99c" title="Get one row data from database." alt="" coords="466,68,654,107"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_d_b_helper.html#ab797da453b67184f536a64010d8ea18e" title="Prepare a query and execute." alt="" coords="725,68,913,107"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_d_b_helper.html#a6b25efc0b7bf136a727f36f22577b06c" title="Get the connection." alt="" coords="961,68,1150,107"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_next_dom_1_1_managers_1_1_backup_manager_a2b5b2e6ecb7f01476001d6db4dd691b3_icgraph.png" border="0" usemap="#class_next_dom_1_1_managers_1_1_backup_manager_a2b5b2e6ecb7f01476001d6db4dd691b3_icgraph" alt=""/></div>
<map name="class_next_dom_1_1_managers_1_1_backup_manager_a2b5b2e6ecb7f01476001d6db4dd691b3_icgraph" id="class_next_dom_1_1_managers_1_1_backup_manager_a2b5b2e6ecb7f01476001d6db4dd691b3_icgraph">
<area shape="rect" title="Removes backup archives according to backup::keepDays and backup::maxSize." alt="" coords="508,12,615,37"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#ace782e411a6c4e97ead02884eb54ea20" title="Runs the backup procedure." alt="" coords="357,12,460,37"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a27cd8188d6bf24c6de12f55bb7abe72b" title="Creates a backup archive." alt="" coords="245,12,309,37"/>
<area shape="rect" href="class_next_dom_1_1_ajax_1_1_next_dom_ajax.html#ada953121a7d721565b055fef7407296e" title=" " alt="" coords="5,5,197,44"/>
</map>
</div>

</div>
</div>
<a id="ab5948510b747494dbfbf23bc77a7347c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5948510b747494dbfbf23bc77a7347c">&#9670;&nbsp;</a></span>sendRemoteBackup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static sendRemoteBackup </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Trigger remote upload for all available repos. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$path</td><td>path to backup archive </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"></td><td></td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_next_dom_1_1_managers_1_1_backup_manager_ab5948510b747494dbfbf23bc77a7347c_cgraph.png" border="0" usemap="#class_next_dom_1_1_managers_1_1_backup_manager_ab5948510b747494dbfbf23bc77a7347c_cgraph" alt=""/></div>
<map name="class_next_dom_1_1_managers_1_1_backup_manager_ab5948510b747494dbfbf23bc77a7347c_cgraph" id="class_next_dom_1_1_managers_1_1_backup_manager_ab5948510b747494dbfbf23bc77a7347c_cgraph">
<area shape="rect" title="Trigger remote upload for all available repos." alt="" coords="5,132,147,157"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_log_helper.html#aef6866d7f01a167db0f9a5b61ccb695d" title="Log an information." alt="" coords="195,68,387,107"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_config_manager.html#ae4695808d86fd397cfab76bf97db5ee0" title="Get configuration by key." alt="" coords="967,125,1202,164"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_update_manager.html#a374d97919101d5265deae63f1c60ae2b" title="List of repositories." alt="" coords="435,183,674,221"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_log_helper.html#a4d086122826f89ccd612789af05ff0ba" title="Add a message to the log and ensure that there are never more than 1000 lines." alt="" coords="445,75,663,100"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_message_manager.html#a3fb2dbd02fd3e3b3e6c49e9420fda03e" title=" " alt="" coords="722,5,919,44"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_log_helper.html#a59bc2904869e417bffca60916a5cde96" title="Get logger depends of target." alt="" coords="725,68,916,107"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_config_manager.html#a0c9551afe14fb1b4df707764ea46207d" title="Get default configuration from default.config.ini." alt="" coords="1250,93,1485,132"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_d_b_helper.html#a4fd597219b185fced898ef86a54bf99c" title="Get one row data from database." alt="" coords="1274,156,1462,195"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_d_b_helper.html#ab797da453b67184f536a64010d8ea18e" title="Prepare a query and execute." alt="" coords="1533,156,1721,195"/>
<area shape="rect" href="class_next_dom_1_1_helpers_1_1_d_b_helper.html#a6b25efc0b7bf136a727f36f22577b06c" title="Get the connection." alt="" coords="1769,156,1957,195"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_next_dom_1_1_managers_1_1_backup_manager_ab5948510b747494dbfbf23bc77a7347c_icgraph.png" border="0" usemap="#class_next_dom_1_1_managers_1_1_backup_manager_ab5948510b747494dbfbf23bc77a7347c_icgraph" alt=""/></div>
<map name="class_next_dom_1_1_managers_1_1_backup_manager_ab5948510b747494dbfbf23bc77a7347c_icgraph" id="class_next_dom_1_1_managers_1_1_backup_manager_ab5948510b747494dbfbf23bc77a7347c_icgraph">
<area shape="rect" title="Trigger remote upload for all available repos." alt="" coords="508,12,650,37"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#ace782e411a6c4e97ead02884eb54ea20" title="Runs the backup procedure." alt="" coords="357,12,460,37"/>
<area shape="rect" href="class_next_dom_1_1_managers_1_1_backup_manager.html#a27cd8188d6bf24c6de12f55bb7abe72b" title="Creates a backup archive." alt="" coords="245,12,309,37"/>
<area shape="rect" href="class_next_dom_1_1_ajax_1_1_next_dom_ajax.html#ada953121a7d721565b055fef7407296e" title=" " alt="" coords="5,5,197,44"/>
</map>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/Managers/<a class="el" href="_backup_manager_8php.html">BackupManager.php</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
